{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../shared/data-access.service\";\nimport * as i3 from \"../shared/navigation.service\";\nimport * as i4 from \"@angular/common\";\nfunction ImageDetailComponent_article_0_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵlistener(\"click\", function ImageDetailComponent_article_0_li_6_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const tag_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.lookUpInGallery(tag_r2[0]));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r2[0], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Confidence: \", tag_r2[1], \"\");\n  }\n}\nfunction ImageDetailComponent_article_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 1)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5)(5, \"ol\", 6);\n    i0.ɵɵtemplate(6, ImageDetailComponent_article_0_li_6_Template, 4, 2, \"li\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵtext(8, \" Analysed At: \");\n    i0.ɵɵelementStart(9, \"time\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", ctx_r0.image.height < ctx_r0.image.width ? \"landscape\" : \"portrait\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.image.url, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.Object.keys(ctx_r0.image.tags).join(\" \"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sortTagsFor(ctx_r0.image));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.image.analysedAt);\n  }\n}\nclass ImageDetailComponent {\n  constructor(route, dataAccessService, router, navigationService) {\n    this.route = route;\n    this.dataAccessService = dataAccessService;\n    this.router = router;\n    this.navigationService = navigationService;\n    this.Object = Object;\n    this.navigationService.setNavigationButtonMenuWith('');\n  }\n  ngOnInit() {\n    let id = this.route.snapshot.paramMap.get('id') ?? '';\n    this.image = this.dataAccessService.getImageFromIndexById(id);\n    if (!this.image) {\n      this.dataAccessService.getImageById(id).subscribe({\n        next: data => {\n          this.dataAccessService.addImageByIdToIndex(data);\n          this.image = data;\n        },\n        error: () => this.router.navigate([''])\n      });\n    }\n  }\n  lookUpInGallery(tag) {\n    console.log(\"Look\");\n    const queryParams = {\n      tag: tag\n    };\n    this.router.navigate(['/images'], {\n      queryParams\n    });\n  }\n  sortTagsFor(image) {\n    const tagEntries = Object.entries(image.tags);\n    tagEntries.sort((a, b) => b[1] - a[1]);\n    return tagEntries;\n  }\n}\nImageDetailComponent.ɵfac = function ImageDetailComponent_Factory(t) {\n  return new (t || ImageDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataAccessService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.NavigationService));\n};\nImageDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImageDetailComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"img-info\", 3, \"id\", 4, \"ngIf\"], [1, \"img-info\", 3, \"id\"], [1, \"img-ctr\"], [3, \"src\", \"alt\"], [1, \"img-attr\"], [1, \"tag-ctr\"], [\"role\", \"list\", 1, \"tags-list\"], [\"class\", \"tag\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"date\"], [1, \"tag\", 3, \"click\"], [1, \"on-hover\"]],\n  template: function ImageDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ImageDetailComponent_article_0_Template, 11, 5, \"article\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.image);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf],\n  styles: [\"#portrait[_ngcontent-%COMP%] {\\n    height: 50vw;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] {\\n    width: 40vw;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%] {\\n    width: 25vw;\\n    align-self: center;\\n    padding: 2rem;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(2, 1fr);\\n    gap: 1.2rem;\\n    justify-items: center;\\n    align-items: start;\\n}\\n\\n@media screen and (max-width: 1400px) {\\n    #portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n        grid-template-columns: auto;\\n    }\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    border-radius: 10px;\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .on-hover[_ngcontent-%COMP%] {\\n    position: absolute;\\n    font-size: 1vw;\\n    color: var(--light-beige);\\n    background-color: #7474D8;\\n    top: -40px;\\n    z-index: 1;\\n    border-radius: 10px;\\n    padding: 4px 8px;\\n\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: visibility 0s, opacity 0.5s linear;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:hover   .on-hover[_ngcontent-%COMP%] {\\n    visibility: visible;\\n    opacity: 1;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] {\\n\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\\n    margin-top: 3rem;\\n    font-size: 1.6vw;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > time[_ngcontent-%COMP%] {\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW1hZ2UtZGV0YWlsL2ltYWdlLWRldGFpbC1wb3J0cmFpdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHFDQUFxQztJQUNyQyxXQUFXO0lBQ1gscUJBQXFCO0lBQ3JCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJO1FBQ0ksMkJBQTJCO0lBQy9CO0FBQ0o7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLFVBQVU7SUFDVixVQUFVO0lBQ1YsbUJBQW1CO0lBQ25CLGdCQUFnQjs7SUFFaEIsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDViw4Q0FBOEM7QUFDbEQ7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsVUFBVTtBQUNkOztBQUVBOztBQUVBOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIjcG9ydHJhaXQge1xuICAgIGhlaWdodDogNTB2dztcbn1cblxuI3BvcnRyYWl0IC5pbWctY3RyIHtcbiAgICB3aWR0aDogNDB2dztcbn1cblxuI3BvcnRyYWl0IC5pbWctYXR0ciB7XG4gICAgd2lkdGg6IDI1dnc7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDJyZW07XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICBnYXA6IDEuMnJlbTtcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxNDAwcHgpIHtcbiAgICAjcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3Qge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG87XG4gICAgfVxufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZyB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZyAub24taG92ZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBmb250LXNpemU6IDF2dztcbiAgICBjb2xvcjogdmFyKC0tbGlnaHQtYmVpZ2UpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3NDc0RDg7XG4gICAgdG9wOiAtNDBweDtcbiAgICB6LWluZGV4OiAxO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgcGFkZGluZzogNHB4IDhweDtcblxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMsIG9wYWNpdHkgMC41cyBsaW5lYXI7XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnOmhvdmVyIC5vbi1ob3ZlciB7XG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICBvcGFjaXR5OiAxO1xufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZz5hIHtcblxufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC5kYXRlIHtcbiAgICBtYXJnaW4tdG9wOiAzcmVtO1xuICAgIGZvbnQtc2l6ZTogMS42dnc7XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLmRhdGU+dGltZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\", \"#landscape[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    height: 55vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] {\\n    margin-left: 2rem;\\n    width: 60vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%] {\\n    width: 70vw;\\n    margin-right: 2rem;\\n    padding: 0.2rem 1rem;\\n    align-self: flex-end;\\n\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    gap: 30px;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n    grid-template-rows: repeat(1, 1fr);\\n    grid-template-columns: repeat(5, 1fr);\\n    gap: 20px;\\n    justify-items: stretch;\\n    margin-left: auto;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    border-radius: 10px;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] {\\n    color: var(--light-beige);\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    position: relative;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .on-hover[_ngcontent-%COMP%] {\\n    position: absolute;\\n    font-size: 1vw;\\n    color: var(--light-beige);\\n    background-color: #7474D8;\\n    top: -40px;\\n    z-index: 1;\\n    border-radius: 10px;\\n    padding: 4px 8px;\\n\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: visibility 0s, opacity 0.5s linear;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:hover   .on-hover[_ngcontent-%COMP%] {\\n    visibility: visible;\\n    opacity: 1;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\\n    font-size: 1.6vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > time[_ngcontent-%COMP%] {\\n    font-size: 1.7vw;\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW1hZ2UtZGV0YWlsL2ltYWdlLWRldGFpbC1sYW5kc2NhcGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLG9CQUFvQjs7SUFFcEIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIsU0FBUztBQUNiOztBQUVBO0lBQ0ksa0NBQWtDO0lBQ2xDLHFDQUFxQztJQUNyQyxTQUFTO0lBQ1Qsc0JBQXNCO0lBQ3RCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixVQUFVO0lBQ1YsVUFBVTtJQUNWLG1CQUFtQjtJQUNuQixnQkFBZ0I7O0lBRWhCLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsOENBQThDO0FBQ2xEOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiI2xhbmRzY2FwZSB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBoZWlnaHQ6IDU1dnc7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1jdHIge1xuICAgIG1hcmdpbi1sZWZ0OiAycmVtO1xuICAgIHdpZHRoOiA2MHZ3O1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciB7XG4gICAgd2lkdGg6IDcwdnc7XG4gICAgbWFyZ2luLXJpZ2h0OiAycmVtO1xuICAgIHBhZGRpbmc6IDAuMnJlbSAxcmVtO1xuICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBnYXA6IDMwcHg7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC50YWdzLWxpc3Qge1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEsIDFmcik7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTtcbiAgICBnYXA6IDIwcHg7XG4gICAganVzdGlmeS1pdGVtczogc3RyZXRjaDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbn1cblxuI2xhbmRzY2FwZSAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnIHtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciAudGFncy1saXN0IC50YWc+YSB7XG4gICAgY29sb3I6IHZhcigtLWxpZ2h0LWJlaWdlKTtcbn1cblxuI2xhbmRzY2FwZSAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZyAub24taG92ZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBmb250LXNpemU6IDF2dztcbiAgICBjb2xvcjogdmFyKC0tbGlnaHQtYmVpZ2UpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3NDc0RDg7XG4gICAgdG9wOiAtNDBweDtcbiAgICB6LWluZGV4OiAxO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgcGFkZGluZzogNHB4IDhweDtcblxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMsIG9wYWNpdHkgMC41cyBsaW5lYXI7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZzpob3ZlciAub24taG92ZXIge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgb3BhY2l0eTogMTtcbn1cblxuI2xhbmRzY2FwZSAuaW1nLWF0dHIgLmRhdGUge1xuICAgIGZvbnQtc2l6ZTogMS42dnc7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC5kYXRlPnRpbWUge1xuICAgIGZvbnQtc2l6ZTogMS43dnc7XG4gICAgZGlzcGxheTogYmxvY2s7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ImageDetailComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ImageDetailComponent_article_0_li_6_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r4","tag_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","lookUpInGallery","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵelement","ɵɵtemplate","ImageDetailComponent_article_0_li_6_Template","ɵɵproperty","ctx_r0","image","height","width","url","ɵɵsanitizeUrl","Object","keys","tags","join","sortTagsFor","ɵɵtextInterpolate","analysedAt","ImageDetailComponent","constructor","route","dataAccessService","router","navigationService","setNavigationButtonMenuWith","ngOnInit","id","snapshot","paramMap","get","getImageFromIndexById","getImageById","subscribe","next","data","addImageByIdToIndex","error","navigate","tag","console","log","queryParams","tagEntries","entries","sort","a","b","ɵɵdirectiveInject","i1","ActivatedRoute","i2","DataAccessService","Router","i3","NavigationService","selectors","decls","vars","consts","template","ImageDetailComponent_Template","rf","ctx","ImageDetailComponent_article_0_Template"],"sources":["/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.ts","/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.html"],"sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {DataAccessService} from \"../shared/data-access.service\";\nimport {Image} from \"../shared/image\";\nimport {NavigationService} from \"../shared/navigation.service\";\n\n@Component({\n    templateUrl: \"image-detail.component.html\",\n    styleUrls: [\"image-detail-portrait.component.css\", \"image-detail-landscape.component.css\"]\n})\nexport class ImageDetailComponent implements OnInit {\n    constructor(private route: ActivatedRoute, private dataAccessService: DataAccessService, private router: Router,\n                private navigationService: NavigationService) {\n        this.navigationService.setNavigationButtonMenuWith('');\n    }\n\n    image: Image | undefined;\n\n    ngOnInit(): void {\n\n        let id: string = this.route.snapshot.paramMap.get('id') ?? '';\n\n        this.image = this.dataAccessService.getImageFromIndexById(id);\n\n        if (!this.image) {\n            this.dataAccessService.getImageById(id)\n                .subscribe({\n                    next: (data) => {\n                        this.dataAccessService.addImageByIdToIndex(data);\n                        this.image = data;\n                    },\n                    error: () => this.router.navigate([''])\n                });\n        }\n    }\n\n    lookUpInGallery(tag: string) {\n        console.log(\"Look\")\n        const queryParams = { tag: tag};\n        this.router.navigate(['/images'], { queryParams });\n    }\n\n    sortTagsFor(image: Image) {\n        const tagEntries: [string, number][] = Object.entries(image.tags);\n        tagEntries.sort((a, b) => b[1] - a[1]);\n        return tagEntries;\n    }\n\n    protected readonly Object = Object;\n}","<article class=\"img-info\" [id]=\"image.height < image.width ? 'landscape' : 'portrait'\" *ngIf=\"image\">\n\t<div class=\"img-ctr\">\n\t\t<img [src]=\"image.url\"\n\t\t     [alt]=\"Object.keys(image.tags).join(' ')\">\n\t</div>\n\t<div class=\"img-attr\">\n\t\t<div class=\"tag-ctr\">\n\t\t\t<ol class=\"tags-list\" role=\"list\">\n\t\t\t\t<li class=\"tag\" *ngFor=\"let tag of this.sortTagsFor(image)\" (click)=\"lookUpInGallery(tag[0])\">\n\t\t\t\t\t{{tag[0]}}\n\t\t\t\t\t<span class=\"on-hover\">Confidence: {{tag[1]}}</span>\n\t\t\t\t</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<div class=\"date\">\n\t\t\tAnalysed At: <time>{{image.analysedAt}}</time>\n\t\t</div>\n\t</div>\n</article>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}