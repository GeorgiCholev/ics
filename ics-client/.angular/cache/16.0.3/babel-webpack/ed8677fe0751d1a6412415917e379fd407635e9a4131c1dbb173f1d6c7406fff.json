{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../shared/data-access.service\";\nimport * as i3 from \"@angular/common\";\nfunction ImageDetailComponent_article_0_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"a\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tag_r2.key);\n  }\n}\nfunction ImageDetailComponent_article_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 1)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5)(5, \"ol\", 6);\n    i0.ɵɵtemplate(6, ImageDetailComponent_article_0_li_6_Template, 3, 1, \"li\", 7);\n    i0.ɵɵpipe(7, \"keyvalue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtext(9, \" Analysed At: \");\n    i0.ɵɵelementStart(10, \"time\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.image.url, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.Object.keys(ctx_r0.image.tags).join(\" \"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 4, ctx_r0.image.tags));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.image.analysedAt);\n  }\n}\nclass ImageDetailComponent {\n  constructor(route, dataAccessService, router, renderer) {\n    this.route = route;\n    this.dataAccessService = dataAccessService;\n    this.router = router;\n    this.renderer = renderer;\n    this.isLandscape = false;\n  }\n  ngOnInit() {\n    let id = this.route.snapshot.paramMap.get('id') ?? '';\n    this.image = this.dataAccessService.getImageFromIndexById(id);\n    if (!this.image) {\n      this.dataAccessService.getImageById(id).subscribe({\n        next: data => this.image = this.dataAccessService.getImageFromIndexById(data.id),\n        error: () => this.router.navigate([''])\n      });\n    }\n  }\n}\nImageDetailComponent.ɵfac = function ImageDetailComponent_Factory(t) {\n  return new (t || ImageDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataAccessService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i0.Renderer2));\n};\nImageDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImageDetailComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"img-details\", 4, \"ngIf\"], [1, \"img-details\"], [1, \"img-ctr\"], [3, \"src\", \"alt\"], [1, \"img-attr\"], [1, \"tag-ctr\"], [\"role\", \"list\", 1, \"tags-list\"], [\"class\", \"tag\", 4, \"ngFor\", \"ngForOf\"], [1, \"date\"], [1, \"tag\"], [\"href\", \"\"]],\n  template: function ImageDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ImageDetailComponent_article_0_Template, 12, 6, \"article\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.image);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i3.KeyValuePipe],\n  styles: [\".img-details[_ngcontent-%COMP%] {\\n    height: 70vh;\\n    overflow: hidden;\\n    display: flex;\\n    gap: 5px;\\n    justify-content: space-evenly;\\n    padding-bottom: 1.5rem;\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] {\\n    border-radius: 15px;\\n    overflow: hidden;\\n    border: 7px solid var(--border-dark-green);\\n    width: 40vw;\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] > img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%] {\\n    background-color: var(--light-beige);\\n    width: 25vw;\\n    border-radius: 15px;\\n    border: 7px solid var(--border-dark-green);\\n    align-self: center;\\n    padding: 2rem;\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(2, 1fr);\\n    gap: 1.2rem;\\n    justify-items: center;\\n}\\n\\n@media screen and (max-width: 1400px) {\\n    .img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n        grid-template-columns: auto;\\n    }\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    background-color: var(--dark-green);\\n    font-size: 1.6vw;\\n    padding: 0.6rem 1.2rem;\\n    border-radius: 10px;\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] {\\n    color: var(--light-beige);\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\\n    margin-top: 3rem;\\n    font-size: 1.6vw;\\n}\\n\\n.img-details[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > time[_ngcontent-%COMP%] {\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW1hZ2UtZGV0YWlsL2ltYWdlLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsUUFBUTtJQUNSLDZCQUE2QjtJQUM3QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLDBDQUEwQztJQUMxQyxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTs7QUFFaEI7O0FBRUE7SUFDSSxvQ0FBb0M7SUFDcEMsV0FBVztJQUNYLG1CQUFtQjtJQUNuQiwwQ0FBMEM7SUFDMUMsa0JBQWtCO0lBQ2xCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IscUNBQXFDO0lBQ3JDLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSTtRQUNJLDJCQUEyQjtJQUMvQjtBQUNKOztBQUVBO0lBQ0ksbUNBQW1DO0lBQ25DLGdCQUFnQjtJQUNoQixzQkFBc0I7SUFDdEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1nLWRldGFpbHMge1xuICAgIGhlaWdodDogNzB2aDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA1cHg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgcGFkZGluZy1ib3R0b206IDEuNXJlbTtcbn1cblxuLmltZy1kZXRhaWxzIC5pbWctY3RyIHtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYm9yZGVyOiA3cHggc29saWQgdmFyKC0tYm9yZGVyLWRhcmstZ3JlZW4pO1xuICAgIHdpZHRoOiA0MHZ3O1xufVxuXG4uaW1nLWRldGFpbHMgLmltZy1jdHI+aW1nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG5cbn1cblxuLmltZy1kZXRhaWxzIC5pbWctYXR0ciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtYmVpZ2UpO1xuICAgIHdpZHRoOiAyNXZ3O1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgYm9yZGVyOiA3cHggc29saWQgdmFyKC0tYm9yZGVyLWRhcmstZ3JlZW4pO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAycmVtO1xufVxuXG4uaW1nLWRldGFpbHMgLmltZy1hdHRyIC50YWdzLWxpc3Qge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcbiAgICBnYXA6IDEuMnJlbTtcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDE0MDBweCkge1xuICAgIC5pbWctZGV0YWlscyAuaW1nLWF0dHIgLnRhZ3MtbGlzdCB7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0bztcbiAgICB9XG59XG5cbi5pbWctZGV0YWlscyAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWdyZWVuKTtcbiAgICBmb250LXNpemU6IDEuNnZ3O1xuICAgIHBhZGRpbmc6IDAuNnJlbSAxLjJyZW07XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxuLmltZy1kZXRhaWxzIC5pbWctYXR0ciAudGFncy1saXN0IC50YWc+YSB7XG4gICAgY29sb3I6IHZhcigtLWxpZ2h0LWJlaWdlKTtcbn1cblxuLmltZy1kZXRhaWxzIC5pbWctYXR0ciAuZGF0ZSB7XG4gICAgbWFyZ2luLXRvcDogM3JlbTtcbiAgICBmb250LXNpemU6IDEuNnZ3O1xufVxuXG4uaW1nLWRldGFpbHMgLmltZy1hdHRyIC5kYXRlPnRpbWUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { ImageDetailComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","tag_r2","key","ɵɵelement","ɵɵtemplate","ImageDetailComponent_article_0_li_6_Template","ɵɵproperty","ctx_r0","image","url","ɵɵsanitizeUrl","Object","keys","tags","join","ɵɵpipeBind1","analysedAt","ImageDetailComponent","constructor","route","dataAccessService","router","renderer","isLandscape","ngOnInit","id","snapshot","paramMap","get","getImageFromIndexById","getImageById","subscribe","next","data","error","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","i2","DataAccessService","Router","Renderer2","selectors","decls","vars","consts","template","ImageDetailComponent_Template","rf","ctx","ImageDetailComponent_article_0_Template"],"sources":["/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.ts","/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.html"],"sourcesContent":["import {Component, OnInit, Renderer2} from \"@angular/core\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {DataAccessService} from \"../shared/data-access.service\";\nimport {Image} from \"../shared/image\";\n\n@Component({\n    templateUrl: \"image-detail.component.html\",\n    styleUrls: [\"image-detail.component.css\"]\n})\nexport class ImageDetailComponent implements OnInit {\n    constructor(private route: ActivatedRoute, private dataAccessService: DataAccessService, private router: Router,\n                private renderer: Renderer2) {\n    }\n\n    image: Image | undefined;\n\n    imageAlt!: string\n\n    isLandscape: boolean = false;\n\n    ngOnInit(): void {\n        let id: string = this.route.snapshot.paramMap.get('id') ?? '';\n\n        this.image = this.dataAccessService.getImageFromIndexById(id);\n\n        if (!this.image) {\n            this.dataAccessService.getImageById(id)\n                .subscribe({\n                    next: (data) => this.image = this.dataAccessService.getImageFromIndexById(data.id),\n                    error: () => this.router.navigate([''])\n                });\n        }\n\n    }\n}","<article class=\"img-details\" *ngIf=\"image\">\n\t<div class=\"img-ctr\">\n\t\t<img [src]=\"image.url\"\n\t\t     [alt]=\"Object.keys(image.tags).join(' ')\">\n\t</div>\n\t<div class=\"img-attr\">\n\t\t<div class=\"tag-ctr\">\n\t\t\t<ol class=\"tags-list\" role=\"list\">\n\t\t\t\t<li class=\"tag\" *ngFor=\"let tag of image.tags | keyvalue\">\n\t\t\t\t\t<a href=\"\">{{tag.key}}</a>\n\t\t\t\t</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<div class=\"date\">\n\t\t\tAnalysed At: <time>{{image.analysedAt}}</time>\n\t\t</div>\n\t</div>\n</article>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}