{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../shared/data-access.service\";\nimport * as i3 from \"../shared/navigation.service\";\nimport * as i4 from \"@angular/common\";\nfunction ImageDetailComponent_article_0_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"a\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tag_r2[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Confidence: \", tag_r2[1], \"\");\n  }\n}\nfunction ImageDetailComponent_article_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 1)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"div\", 5)(5, \"ol\", 6);\n    i0.ɵɵtemplate(6, ImageDetailComponent_article_0_li_6_Template, 5, 2, \"li\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵtext(8, \" Analysed At: \");\n    i0.ɵɵelementStart(9, \"time\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", ctx_r0.image.height < ctx_r0.image.width ? \"landscape\" : \"portrait\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.image.url, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.Object.keys(ctx_r0.image.tags).join(\" \"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sortTagsFor(ctx_r0.image));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.image.analysedAt);\n  }\n}\nclass ImageDetailComponent {\n  constructor(route, dataAccessService, router, navigationService) {\n    this.route = route;\n    this.dataAccessService = dataAccessService;\n    this.router = router;\n    this.navigationService = navigationService;\n    this.Object = Object;\n    this.navigationService.setNavigationPreferencesWith(false, '');\n  }\n  ngOnInit() {\n    let id = this.route.snapshot.paramMap.get('id') ?? '';\n    this.image = this.dataAccessService.getImageFromIndexById(id);\n    if (!this.image) {\n      this.dataAccessService.getImageById(id).subscribe({\n        next: data => {\n          this.image = this.dataAccessService.getImageFromIndexById(data.id);\n        },\n        error: () => this.router.navigate([''])\n      });\n    }\n  }\n  sortTagsFor(image) {\n    const tagEntries = Object.entries(image.tags);\n    tagEntries.sort((a, b) => b[1] - a[1]);\n    return tagEntries;\n  }\n}\nImageDetailComponent.ɵfac = function ImageDetailComponent_Factory(t) {\n  return new (t || ImageDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataAccessService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.NavigationService));\n};\nImageDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImageDetailComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"id\", 4, \"ngIf\"], [3, \"id\"], [1, \"img-ctr\"], [3, \"src\", \"alt\"], [1, \"img-attr\"], [1, \"tag-ctr\"], [\"role\", \"list\", 1, \"tags-list\"], [\"class\", \"tag\", 4, \"ngFor\", \"ngForOf\"], [1, \"date\"], [1, \"tag\"], [1, \"on-hover\"]],\n  template: function ImageDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ImageDetailComponent_article_0_Template, 11, 5, \"article\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.image);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf],\n  styles: [\"#portrait[_ngcontent-%COMP%] {\\n    height: 50vw;\\n    overflow: hidden;\\n    display: flex;\\n    gap: 5px;\\n    justify-content: space-evenly;\\n    padding-bottom: 1.5rem;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] {\\n    border-radius: 15px;\\n    overflow: hidden;\\n    border: 7px solid var(--border-dark-green);\\n    width: 40vw;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] > img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%] {\\n    background-color: var(--light-beige);\\n    width: 25vw;\\n    border-radius: 15px;\\n    border: 7px solid var(--border-dark-green);\\n    align-self: center;\\n    padding: 2rem;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(2, 1fr);\\n    gap: 1.2rem;\\n    justify-items: center;\\n    align-items: start;\\n}\\n\\n@media screen and (max-width: 1400px) {\\n    #portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n        grid-template-columns: auto;\\n    }\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    background-color: var(--dark-green);\\n    font-size: 1.6vw;\\n    padding: 0.6rem 1.2rem;\\n    border-radius: 10px;\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .on-hover[_ngcontent-%COMP%] {\\n    position: absolute;\\n    font-size: 1vw;\\n    color: var(--light-beige);\\n    background-color: #7474D8;\\n    top: -40px;\\n    z-index: 1;\\n    border-radius: 10px;\\n    padding: 4px 8px;\\n\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: visibility 0s, opacity 0.5s linear;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:hover   .on-hover[_ngcontent-%COMP%] {\\n    visibility: visible;\\n    opacity: 1;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] {\\n    color: var(--light-beige);\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\\n    margin-top: 3rem;\\n    font-size: 1.6vw;\\n}\\n\\n#portrait[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > time[_ngcontent-%COMP%] {\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW1hZ2UtZGV0YWlsL2ltYWdlLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsUUFBUTtJQUNSLDZCQUE2QjtJQUM3QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLDBDQUEwQztJQUMxQyxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTs7QUFFaEI7O0FBRUE7SUFDSSxvQ0FBb0M7SUFDcEMsV0FBVztJQUNYLG1CQUFtQjtJQUNuQiwwQ0FBMEM7SUFDMUMsa0JBQWtCO0lBQ2xCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IscUNBQXFDO0lBQ3JDLFdBQVc7SUFDWCxxQkFBcUI7SUFDckIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0k7UUFDSSwyQkFBMkI7SUFDL0I7QUFDSjs7QUFFQTtJQUNJLG1DQUFtQztJQUNuQyxnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsVUFBVTtJQUNWLFVBQVU7SUFDVixtQkFBbUI7SUFDbkIsZ0JBQWdCOztJQUVoQixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLDhDQUE4QztBQUNsRDs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIiNwb3J0cmFpdCB7XG4gICAgaGVpZ2h0OiA1MHZ3O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDVweDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcbiAgICBwYWRkaW5nLWJvdHRvbTogMS41cmVtO1xufVxuXG4jcG9ydHJhaXQgLmltZy1jdHIge1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXI6IDdweCBzb2xpZCB2YXIoLS1ib3JkZXItZGFyay1ncmVlbik7XG4gICAgd2lkdGg6IDQwdnc7XG59XG5cbiNwb3J0cmFpdCAuaW1nLWN0cj5pbWcge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcblxufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC1iZWlnZSk7XG4gICAgd2lkdGg6IDI1dnc7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3JkZXI6IDdweCBzb2xpZCB2YXIoLS1ib3JkZXItZGFyay1ncmVlbik7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDJyZW07XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgIGdhcDogMS4ycmVtO1xuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDE0MDBweCkge1xuICAgICNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCB7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0bztcbiAgICB9XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWdyZWVuKTtcbiAgICBmb250LXNpemU6IDEuNnZ3O1xuICAgIHBhZGRpbmc6IDAuNnJlbSAxLjJyZW07XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZyAub24taG92ZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBmb250LXNpemU6IDF2dztcbiAgICBjb2xvcjogdmFyKC0tbGlnaHQtYmVpZ2UpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3NDc0RDg7XG4gICAgdG9wOiAtNDBweDtcbiAgICB6LWluZGV4OiAxO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgcGFkZGluZzogNHB4IDhweDtcblxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMsIG9wYWNpdHkgMC41cyBsaW5lYXI7XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnOmhvdmVyIC5vbi1ob3ZlciB7XG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICBvcGFjaXR5OiAxO1xufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZz5hIHtcbiAgICBjb2xvcjogdmFyKC0tbGlnaHQtYmVpZ2UpO1xufVxuXG4jcG9ydHJhaXQgLmltZy1hdHRyIC5kYXRlIHtcbiAgICBtYXJnaW4tdG9wOiAzcmVtO1xuICAgIGZvbnQtc2l6ZTogMS42dnc7XG59XG5cbiNwb3J0cmFpdCAuaW1nLWF0dHIgLmRhdGU+dGltZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\", \"#landscape[_ngcontent-%COMP%] {\\n    overflow: hidden;\\n    display: flex;\\n    flex-direction: column;\\n    gap: 5px;\\n    justify-content: space-evenly;\\n    padding-bottom: 1.5rem;\\n    height: 55vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] {\\n    margin-left: 2rem;\\n    border-radius: 15px;\\n    overflow: hidden;\\n    border: 7px solid var(--border-dark-green);\\n    width: 60vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-ctr[_ngcontent-%COMP%] > img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%] {\\n    background-color: var(--light-beige);\\n    width: 70vw;\\n    border-radius: 15px;\\n    border: 7px solid var(--border-dark-green);\\n    align-self: flex-end;\\n    margin-right: 2rem;\\n    padding: 0.2rem 1rem;\\n    display: flex;\\n    gap: 30px;\\n    align-items: center;\\n    justify-content: space-between;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-rows: repeat(1, 1fr);\\n    grid-template-columns: repeat(5, 1fr);\\n    gap: 20px;\\n    justify-items: stretch;\\n    margin-left: auto;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    text-align: center;\\n    background-color: var(--dark-green);\\n    font-size: 1.6vw;\\n    padding: 0.6rem 1.2rem;\\n    border-radius: 10px;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] {\\n    color: var(--light-beige);\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] {\\n    position: relative;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .on-hover[_ngcontent-%COMP%] {\\n    position: absolute;\\n    font-size: 1vw;\\n    color: var(--light-beige);\\n    background-color: #7474D8;\\n    top: -40px;\\n    z-index: 1;\\n    border-radius: 10px;\\n    padding: 4px 8px;\\n\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: visibility 0s, opacity 0.5s linear;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:hover   .on-hover[_ngcontent-%COMP%] {\\n    visibility: visible;\\n    opacity: 1;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\\n    font-size: 1.6vw;\\n}\\n\\n#landscape[_ngcontent-%COMP%]   .img-attr[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] > time[_ngcontent-%COMP%] {\\n    font-size: 1.7vw;\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaW1hZ2UtZGV0YWlsL2ltYWdlLWRldGFpbC1sYW5kc2NhcGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFFBQVE7SUFDUiw2QkFBNkI7SUFDN0Isc0JBQXNCO0lBQ3RCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQiwwQ0FBMEM7SUFDMUMsV0FBVztBQUNmOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7O0FBRWhCOztBQUVBO0lBQ0ksb0NBQW9DO0lBQ3BDLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsMENBQTBDO0lBQzFDLG9CQUFvQjtJQUNwQixrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLGFBQWE7SUFDYixTQUFTO0lBQ1QsbUJBQW1CO0lBQ25CLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGFBQWE7SUFDYixrQ0FBa0M7SUFDbEMscUNBQXFDO0lBQ3JDLFNBQVM7SUFDVCxzQkFBc0I7SUFDdEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1DQUFtQztJQUNuQyxnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixVQUFVO0lBQ1YsVUFBVTtJQUNWLG1CQUFtQjtJQUNuQixnQkFBZ0I7O0lBRWhCLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsOENBQThDO0FBQ2xEOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiI2xhbmRzY2FwZSB7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiA1cHg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgcGFkZGluZy1ib3R0b206IDEuNXJlbTtcbiAgICBoZWlnaHQ6IDU1dnc7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1jdHIge1xuICAgIG1hcmdpbi1sZWZ0OiAycmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXI6IDdweCBzb2xpZCB2YXIoLS1ib3JkZXItZGFyay1ncmVlbik7XG4gICAgd2lkdGg6IDYwdnc7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1jdHI+aW1nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG5cbn1cblxuI2xhbmRzY2FwZSAuaW1nLWF0dHIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LWJlaWdlKTtcbiAgICB3aWR0aDogNzB2dztcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogN3B4IHNvbGlkIHZhcigtLWJvcmRlci1kYXJrLWdyZWVuKTtcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcbiAgICBtYXJnaW4tcmlnaHQ6IDJyZW07XG4gICAgcGFkZGluZzogMC4ycmVtIDFyZW07XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDMwcHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC50YWdzLWxpc3Qge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMSwgMWZyKTtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LCAxZnIpO1xuICAgIGdhcDogMjBweDtcbiAgICBqdXN0aWZ5LWl0ZW1zOiBzdHJldGNoO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciAudGFncy1saXN0IC50YWcge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYXJrLWdyZWVuKTtcbiAgICBmb250LXNpemU6IDEuNnZ3O1xuICAgIHBhZGRpbmc6IDAuNnJlbSAxLjJyZW07XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxuI2xhbmRzY2FwZSAuaW1nLWF0dHIgLnRhZ3MtbGlzdCAudGFnPmEge1xuICAgIGNvbG9yOiB2YXIoLS1saWdodC1iZWlnZSk7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC50YWdzLWxpc3QgLnRhZyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciAudGFncy1saXN0IC50YWcgLm9uLWhvdmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZm9udC1zaXplOiAxdnc7XG4gICAgY29sb3I6IHZhcigtLWxpZ2h0LWJlaWdlKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzQ3NEQ4O1xuICAgIHRvcDogLTQwcHg7XG4gICAgei1pbmRleDogMTtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIHBhZGRpbmc6IDRweCA4cHg7XG5cbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgb3BhY2l0eTogMDtcbiAgICB0cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzLCBvcGFjaXR5IDAuNXMgbGluZWFyO1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciAudGFncy1saXN0IC50YWc6aG92ZXIgLm9uLWhvdmVyIHtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgIG9wYWNpdHk6IDE7XG59XG5cbiNsYW5kc2NhcGUgLmltZy1hdHRyIC5kYXRlIHtcbiAgICBmb250LXNpemU6IDEuNnZ3O1xufVxuXG4jbGFuZHNjYXBlIC5pbWctYXR0ciAuZGF0ZT50aW1lIHtcbiAgICBmb250LXNpemU6IDEuN3Z3O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { ImageDetailComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","tag_r2","ɵɵtextInterpolate1","ɵɵelement","ɵɵtemplate","ImageDetailComponent_article_0_li_6_Template","ɵɵproperty","ctx_r0","image","height","width","url","ɵɵsanitizeUrl","Object","keys","tags","join","sortTagsFor","analysedAt","ImageDetailComponent","constructor","route","dataAccessService","router","navigationService","setNavigationPreferencesWith","ngOnInit","id","snapshot","paramMap","get","getImageFromIndexById","getImageById","subscribe","next","data","error","navigate","tagEntries","entries","sort","a","b","ɵɵdirectiveInject","i1","ActivatedRoute","i2","DataAccessService","Router","i3","NavigationService","selectors","decls","vars","consts","template","ImageDetailComponent_Template","rf","ctx","ImageDetailComponent_article_0_Template"],"sources":["/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.ts","/Users/georgicholev/MyDocuments/ics/ics-client/src/app/image-detail/image-detail.component.html"],"sourcesContent":["import {Component, OnInit} from \"@angular/core\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {DataAccessService} from \"../shared/data-access.service\";\nimport {Image} from \"../shared/image\";\nimport {NavigationService} from \"../shared/navigation.service\";\n\n@Component({\n    templateUrl: \"image-detail.component.html\",\n    styleUrls: [\"image-detail.component.css\", \"image-detail-landscape.component.css\"]\n})\nexport class ImageDetailComponent implements OnInit {\n    constructor(private route: ActivatedRoute, private dataAccessService: DataAccessService, private router: Router,\n                private navigationService: NavigationService) {\n        this.navigationService.setNavigationPreferencesWith(false, '');\n    }\n\n    image: Image | undefined;\n\n    ngOnInit(): void {\n\n        let id: string = this.route.snapshot.paramMap.get('id') ?? '';\n\n        this.image = this.dataAccessService.getImageFromIndexById(id);\n\n        if (!this.image) {\n            this.dataAccessService.getImageById(id)\n                .subscribe({\n                    next: (data) => {\n                        this.image = this.dataAccessService.getImageFromIndexById(data.id);\n                    },\n                    error: () => this.router.navigate([''])\n                });\n        }\n    }\n\n    sortTagsFor(image: Image) {\n        const tagEntries: [string, number][] = Object.entries(image.tags);\n        tagEntries.sort((a, b) => b[1] - a[1]);\n        return tagEntries;\n    }\n\n    protected readonly Object = Object;\n}","<article [id]=\"image.height < image.width ? 'landscape' : 'portrait'\" *ngIf=\"image\">\n\t<div class=\"img-ctr\">\n\t\t<img [src]=\"image.url\"\n\t\t     [alt]=\"Object.keys(image.tags).join(' ')\">\n\t</div>\n\t<div class=\"img-attr\">\n\t\t<div class=\"tag-ctr\">\n\t\t\t<ol class=\"tags-list\" role=\"list\">\n\t\t\t\t<li class=\"tag\" *ngFor=\"let tag of this.sortTagsFor(image)\">\n\t\t\t\t\t<a>{{tag[0]}}</a>\n\t\t\t\t\t<span class=\"on-hover\">Confidence: {{tag[1]}}</span>\n\t\t\t\t</li>\n\t\t\t</ol>\n\t\t</div>\n\t\t<div class=\"date\">\n\t\t\tAnalysed At: <time>{{image.analysedAt}}</time>\n\t\t</div>\n\t</div>\n</article>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}